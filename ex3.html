<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ex3</title>
</head>

<body>

    <script>
        // console.log(
        //     [[1, 2], [3, 4]].reduce((a, b) => a.concat(b), [])
        // );
        // Array(4)
        const arr1 = ['a', 'b', 'a'];
        const new1 = arr1.reduce((acc, curr) => {
            acc[curr] = (acc[curr] || 0) + 1;
            return acc;
        }, {});
        // 一開始是個{}
        // acc[curr] || 0：如果已經有這個 key，就用原來的值；如果沒有，就當作 0
        console.log(new1);
        console.log("===============category===================");

        const products = [
            { name: 'iPhone', category: 'electronics' },
            { name: 'T-shirt', category: 'clothing' },
            { name: 'TV', category: 'electronics' },
            { name: 'Jeans', category: 'clothing' },
            { name: 'Banana', category: 'food' }
        ];

        const categoryCount = products.reduce((acc, item) => {
            const category = item.category;
            // 先取出分類
            acc[category] = (acc[category] || 0) + 1;
            // 累加器 acc 裡的類別數量
            return acc;
            // 每一輪都要回傳累加器 acc
        }, {})
        console.log(categoryCount);

        console.log("====「陣列轉索引對照表（index map）」或「物件化」====");
        const people = [
            { id: 1, name: "Alice", age: 25 },
            { id: 2, name: "Bob", age: 30 },
            { id: 3, name: "Charlie", age: 35 }
        ];
        const ppl_id = people.reduce((acc, item) => {
            const id = item.id; // 正確地從 item 取 id
            acc[id] = item; // 以 id 為 key，item 為值
            return acc; // 一定要回傳 acc
        }, {});
        console.log(ppl_id);

        console.log("===物件複習1===");
        const book = {};
        book.title = "Read me";
        book["author"] = "James";
        book.price = 220;
        console.log(book);
        console.log(book.title);

        console.log("===物件複習2===");
        // 輸入範例：
        function getKeys(obj) {
            return Object.keys(obj); // 回傳這個物件的 key 陣列
        }

        const student = { id: 1, name: "Bob", score: 95 };
        console.log(getKeys(student)); // ["id", "name", "score"]

        // 輸出結果：["id", "name", "score"]
    </script>
</body>

</html>